# Generated by Ansible for {{ ansible_fqdn  }}

server {
    listen 80;

    server_name {{ ddyns_config.domain }};
    proxy_set_header Host $http_host;
    
    location /grafana/ {
        proxy_pass http://192.168.2.20:3000/;
    }
    # location ~ ^/octoprint/(?<pathinfo>.*) {
    #     proxy_pass http://192.168.2.43/$pathinfo;
    #   
    #     auth_basic "Private Site";
    #     auth_basic_user_file /etc/nginx/.htpasswd;
    # 
    #     proxy_set_header Host $host:$server_port;
    #     proxy_set_header Upgrade $http_upgrade;
    #     proxy_set_header Connection "upgrade";
    # 
    #     proxy_set_header X-Real-IP $remote_addr;
    #     proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    #     proxy_set_header X-Scheme $scheme;
    #     proxy_set_header X-Script-Name /octoprint;
    # }
    # location /webcam/ {
    #     proxy_pass http://192.168.2.43/webcam/;
    # }
}
